<font size = "3">

- **异常应该只用于异常的情况下；他们永远不应该用于正常的程序控制流程。**
>  一般的，应该优先使用标准的、容易理解的模式，而不是那些声称可以提供更好性能的、弄巧成拙的方法。即使真的能够改进性能，面对平台的不断改进，这种模型的性能优势也不可能一直保持。然而这种过度聪明的模式带来的微妙 Bug 和维护的痛苦将依旧存在。

- - -
- **设计良好的 API 不应该强迫它的客户端为了正常的控制流程而使用异常。**
> 如果类中有在某种状态下能使用的方法，那么就需要提供一个可以检测这一种状态的方法。例如Iterator中的next方法和hasNext方法。
```
for ( Iterator<Foo> i = collection.iterator(); i.hasNext(); ){
    Foo foo = i.next();
    ...
}
```
如果没有hasNext方法，程序就不得不使用异常
```
/* Do not use this hideous code for iteration over a collection! */
try {
    Iterator<Foo> i = collection.iterator();
    while ( true )
    {
        Foo foo = i.next();
        ...
    }
} catch ( NoSuchElementException e ) {
}
```
> 还有一种状态检测方法就是为状态方法提供一个可以识别的值。例如：对于一个正整数数组，返回-1则表示结束。

**如何选择状态检测方法：**

- 在**高并发的情况**，如果方法没有被同步，那么**应该选择可识别返回值方法**。因为如果是检测方法，可能在多个线程的情况下出现错误。
- 如果**单个测试方法需要多次的重复**，从性能的角度考虑，应该使用**可识别返回值方法**。
- 如果在所有情况都相等的时候，**测试方法具有更好的可读性，更适合书写。**
- 如果忘记调用状态测试方法，程序可以抛出异常，但是如果忘记返回正确的可识别值，程序不会抛出异常，**不好调试bug**

</font>